<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khojo</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="shortcut icon" href="images/khojo-logo.png" type="image/x-icon">


    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/1694914d74.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <!-- External CSS StyleSheet -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="styles/style.css">
</head>

<body>
    <!-- Start Header -->
    <header>
        <div class="fixed-button">
            <button id="openOptions">
                <img src="images/khojo-logo.png" style="width: 25%;" alt="">
            </button>
            <div class="options">
                <div class="opt-btn" onclick="shareOnClick()">
                    <h4>Share my store</h4>
                </div>
                <div class="opt-btn" id="vcfBtn" onclick="downloadVCF()">
                    <h4>Save my store</h4>
                </div>
                <div class="opt-btn" id="qrCodeBtn" onclick="generateQRCode()">
                    <h4>My store QR</h4>
                </div>
            </div>
        </div>
        <style>
            .opt-btn {
                margin-bottom: 4px;
                display: flex;
                -webkit-box-align: center;
                align-items: center;
                width: 100%;
                -webkit-box-pack: justify;
                justify-content: space-between;
                cursor: pointer;
            }

            .opt-btn h4 {
                color: #fff;
            }

            .fixed-button {
                position: fixed;
                bottom: 40px;
                right: -60px;
                z-index: 10;
            }

            .fixed-button button {
                padding: 0px;
                background-color: transparent;
                color: white;
                border: none;
                cursor: pointer;
                z-index: 2;
                position: relative;
            }

            .options {
                display: none;
                position: absolute;
                z-index: 1;
                right: 48%;
                width: 255px;
                top: -196%;
                padding: 20px 32px;
                border-radius: 20px;
                background: #CF4258;
                backface-visibility: hidden;
                transform: translateZ(0px);
                will-change: transform, opacity;
                transform-origin: center bottom;
                opacity: 1;
                animation: dMLXAX 250ms ease-out 0s 1 normal none running;
            }

            @keyframes dMLXAX {
                0% {
                    transform: scale(0);
                }

                100% {
                    transform: scale(1);
                }
            }


            .options button:hover {
                background-color: #ddd;
            }

            .navbar {
                position: fixed;
                display: flex;
                justify-content: space-between;
                z-index: 100;
                background: white;
                width: 100%;
            }

            #carouselExampleIndicators {
                padding-top: 5%;
            }

            @media (max-width: 768px) {
                .options {
                    right: 48%;
                    width: 300px;
                    top: -190%;
                }

                #carouselExampleIndicators {
                    padding-top: 0%;
                }

                .header-pera {
                    line-height: normal;
                }

                .card-body {
                    padding: 0%;
                }
                .m-2{
                    margin-top: 20% !important;
                }
            }
        </style>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                var openBtn = document.getElementById('openOptions');
                var optionsDiv = document.querySelector('.options');
                var whatsappBtn = document.getElementById('whatsappBtn');
                var vcfBtn = document.getElementById('vcfBtn');
                var qrCodeBtn = document.getElementById('qrCodeBtn');

                openBtn.addEventListener('click', function () {
                    if (optionsDiv.style.display === 'block') {
                        setTimeout(function () {
                            optionsDiv.style.display = 'none';
                        }, 300);
                    } else {
                        optionsDiv.style.display = 'block';
                    }
                });

                whatsappBtn.addEventListener('click', function () {
                    window.open('https://wa.me/?text=Your%20Message%20Here');
                });

                vcfBtn.addEventListener('click', function () {
                    window.location.href = 'path_to_your_vcf_file.vcf';
                });

                qrCodeBtn.addEventListener('click', function () {
                    // Add functionality for generating QR code here
                });
            });
            document.addEventListener('click', function (event) {
                console.log("hello");
                if (optionsDiv.style.display === 'block') {
                    optionsDiv.style.display = 'none';
                    console.log("hi");
                }
            });
        </script>
        <!-- NavBar Added -->
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <a class="navbar-brand" href="#">
                    <h1>KritiKala</h1>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse fs-5" style="padding-left: 50%;" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#product">Product</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#service">Service</a>
                        </li>
                        <li class="nav-item">
                        <li class="nav-item">
                            <a class="nav-link" href="#gallery">Gallery</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contact">Contact Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cart.html"><i class="fa-solid fa-cart-shopping"></i></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Carousel Added -->
        <div style="width: 100% !important;">
            <div id="carouselExampleIndicators" style="max-width: 100% !important;" class="carousel slide"
                data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="row panda-bg-info p-5 d-flex align-items-center">
                            <div class="col-lg-12 ps m-2 order-1 order-md-1 order-lg-1">
                                <h1 class="fw-bold mb-3">Shopping Cart</h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- End Header -->

    <!-- Start Main -->
    <main>
        <section class="h-100 h-custom" style="background-color: #FEEAE9;">
            <div class="container py-5 h-100">
                <div class="row d-flex justify-content-center align-items-center h-100">
                    <div class="col-12">
                        <div class="card card-registration card-registration-2" style="border-radius: 15px;">
                            <div class="card-body p-0">
                                <div class="row g-0">
                                    <div class="col-lg-8">
                                        <div class="p-5">
                                            <div class="d-flex justify-content-between align-items-center mb-5">
                                                <h6 class="mb-0 text-muted">1 item</h6>
                                            </div>
                                            <hr class="my-4">
                                            <div class="row mb-4 d-flex justify-content-between align-items-center">
                                                <div class="col-md-2 col-lg-2 col-xl-2">
                                                    <img src="images/3.png" class="img-fluid rounded-3" alt="Cotton T-shirt">
                                                </div>
                                                <div class="col-md-3 col-lg-3 col-xl-3">
                                                    <h6 class="text-muted">Pottery</h6>
                                                    <h6 class="text-black mb-0">Wooven Jute Tray</h6>
                                                </div>
                                                <div class="col-md-3 col-lg-3 col-xl-2 d-flex">
                                                    <button class="btn btn-link px-2" onclick="changeQuantity(-1)">
                                                        <i class="fas fa-minus"></i>
                                                    </button>
                                                    <input id="quantity" min="0" name="quantity" value="1" type="number" class="form-control form-control-sm" onchange="updateTotal()" />
                                                    <button class="btn btn-link px-2" onclick="changeQuantity(1)">
                                                        <i class="fas fa-plus"></i>
                                                    </button>
                                                </div>
                                                <div class="col-md-3 col-lg-2 col-xl-2 offset-lg-1">
                                                    <h6 class="mb-0">₹<span id="item-price">120</span></h6>
                                                </div>
                                                <div class="col-md-1 col-lg-1 col-xl-1 text-end">
                                                    <a href="#!" class="text-muted"><i class="fas fa-times"></i></a>
                                                </div>
                                            </div>
                                            <hr class="my-4">
                                            <div class="pt-5">
                                                <h6 class="mb-0"><a href="#!" class="text-body"><i class="fas fa-long-arrow-alt-left me-2"></i>Back to shop</a></h6>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4 bg-grey">
                                        <div class="p-5">
                                            <h3 class="fw-bold mb-5 mt-2 pt-1">Summary</h3>
                                            <hr class="my-4">
                                            <div class="d-flex justify-content-between mb-4">
                                                <h5 class="text-uppercase">items <span id="item-count">1</span></h5>
                                            </div>
                                            <hr class="my-4">
                                            <div class="d-flex justify-content-between mb-5">
                                                <h5 class="text-uppercase">Total price</h5>
                                                <h5>₹<span id="total-price">120</span></h5>
                                            </div>
                                            <button type="button" class="btn btn-dark btn-block btn-lg" data-toggle="modal" data-target="#orderModal">
                                                Proceed to Checkout
                                            </button>
                                        </div>
                                    </div>
                                    <!-- <script>
                                        const itemPrice = 120;
                                
                                        function changeQuantity(change) {
                                            const quantityInput = document.getElementById('quantity');
                                            let currentQuantity = parseInt(quantityInput.value);
                                            currentQuantity += change;
                                            if (currentQuantity < 0) currentQuantity = 0;
                                            quantityInput.value = currentQuantity;
                                            updateTotal();
                                        }
                                
                                        function updateTotal() {
                                            const quantity = parseInt(document.getElementById('quantity').value);
                                            const totalPrice = quantity * itemPrice;
                                            document.getElementById('item-count').innerText = quantity;
                                            document.getElementById('total-price').innerText = totalPrice;
                                        }
                                
                                        document.getElementById('quantity').addEventListener('change', updateTotal);
                                    </script> -->
                                    <script>
                                        const itemPrice = 120;
                                
                                        function changeQuantity(change) {
                                            const quantityInput = document.getElementById('quantity');
                                            let currentQuantity = parseInt(quantityInput.value);
                                            currentQuantity += change;
                                            if (currentQuantity < 0) currentQuantity = 0;
                                            quantityInput.value = currentQuantity;
                                            updateTotal();
                                        }
                                
                                        function updateTotal() {
                                            const quantity = parseInt(document.getElementById('quantity').value);
                                            const totalPrice = quantity * itemPrice;
                                            document.getElementById('item-count').innerText = quantity;
                                            document.getElementById('total-price').innerText = totalPrice;
                                        }
                                
                                        function submitOrder() {
                                            const name = document.getElementById('name').value;
                                            const phone = document.getElementById('phone').value;
                                            const address = document.getElementById('address').value;
                                            const productName = "Wooven Jute Tray"; 
                                
                                            const totalPrice = quantity * itemPrice;
                                            const orderMessage = `Coustmer Name: ${name}\n Phone Number: ${phone}\n Address: ${address}\n Order Details:\nProduct: ${productName}\nQuantity: ${quantity}\nTotal Price: $${totalPrice}`;
                                
                                            const encodedMessage = encodeURIComponent(orderMessage);
                                            const whatsappUrl = `https://api.whatsapp.com/send?phone=YOUR_PHONE_NUMBER&text=${encodedMessage}`;
                                
                                            window.open(whatsappUrl, '_blank');
                                
                                            // Close the modal
                                            $('#orderModal').modal('hide');
                                        }
                                
                                        document.addEventListener('DOMContentLoaded', function () {
                                            document.getElementById('quantity').addEventListener('change', updateTotal);
                                        });
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="modal fade" id="orderModal">
            <div class="modal-dialog">
                <div class="modal-content">
        
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <h4 class="modal-title">Checkout</h4>
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
        
                    <!-- Modal Body -->
                    <div class="modal-body">
                        <form id="orderForm">
                            <div class="form-group">
                                <label for="name">Name:</label>
                                <input type="text" class="form-control" id="name" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number:</label>
                                <input type="tel" class="form-control" id="phone" required>
                            </div>
                            <div class="form-group">
                                <label for="address">Address:</label>
                                <input type="text" class="form-control" id="address" required>
                            </div>
                        </form>
                    </div>
        
                    <!-- Modal Footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" onclick="submitOrder()">Order</button>
                        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    </div>
        
                </div>
            </div>
        </div>
        <style>
            @media (min-width: 1025px) {
                /* .h-custom {
                    height: 100vh !important;
                } */
            }

            .card-registration .select-input.form-control[readonly]:not([disabled]) {
                font-size: 1rem;
                line-height: 2.15;
                padding-left: .75em;
                padding-right: .75em;
            }

            .card-registration .select-arrow {
                top: 13px;
            }

            .bg-grey {
                background-color: #eae8e8;
            }

            @media (min-width: 992px) {
                .card-registration-2 .bg-grey {
                    border-top-right-radius: 16px;
                    border-bottom-right-radius: 16px;
                }
            }

            @media (max-width: 991px) {
                .card-registration-2 .bg-grey {
                    border-bottom-left-radius: 16px;
                    border-bottom-right-radius: 16px;
                }
            }
        </style>
    </main>
    <!-- End Main -->

    <!-- Start Footer -->
    <footer class="mb-0 pb-0 mt-3 text-center">
        <small>©2024. Khojo. All rights reserved.</small>
    </footer>
    <!-- End Footer -->
    <!-- Modal -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <h3>Your QR Code</h3>
            <div id="qrcode"></div>
            <div class="d-flex justify-space-around" style="padding-bottom: 15px;">
                <!-- <button class="btn-buy-now" id="saveBtn">Save</button> -->
                <!-- <button class="btn-buy-now" onclick="shareOnClick()">Share</button> -->
                <button class="btn-buy-now" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>
    <style>
        .modal-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .close {
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


    <!-- Bootstrap Script -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>


    <script>
        function call() {
            window.location.href = 'tel:7412846037';
        }

        function whatsapp() {
            var phoneNumber = '7412846037';
            var message = encodeURIComponent('Hi, I need this product.');
            var whatsappUrl = 'https://api.whatsapp.com/send?phone=' + phoneNumber + '&text=' + message;
            window.open(whatsappUrl, '_blank');
        }
        function whatsappbtn() {
            var name = "Kritikala";
            var phoneNumber = "7412846037";
            var email = "hello@khojorightnow.com";
            var websiteLink = window.location.href;
            var message = encodeURIComponent(
                'Hi,\n\n' +
                name + '\n' +
                phoneNumber + '\n' +
                email + '\n' +
                websiteLink
            );
            var whatsappUrl = 'https://api.whatsapp.com/send?phone=' + phoneNumber + '&text=' + message;
            window.open(whatsappUrl, '_blank');
        }

        function downloadVCF() {
            var phoneNumber = '7412846037';
            var name = 'kritikala';
            var email = 'hello@khojorightnow.com';
            var vcardContent = 'BEGIN:VCARD\n' +
                'VERSION:3.0\n' +
                'FN:' + name + '\n' +
                'TEL:' + phoneNumber + '\n' +
                'EMAIL:' + email + '\n' +
                'END:VCARD';

            var blob = new Blob([vcardContent], { type: 'text/vcard' });
            var downloadLink = document.createElement('a');

            downloadLink.href = window.URL.createObjectURL(blob);
            downloadLink.download = 'contact.vcf';

            downloadLink.setAttribute('target', '_blank');

            document.body.appendChild(downloadLink);

            downloadLink.click();

            document.body.removeChild(downloadLink);
        }


    </script>
    <div id="qrcode" style="display: none;"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode@latest"></script>
    <script>
        function openModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "block";
        }

        function closeModal() {
            var modal = document.getElementById("myModal");
            modal.style.display = "none";
        }

        function generateQRCode() {

            var currentURL = window.location.href;

            var qrcode = new QRCode("qrcode");

            qrcode.makeCode(currentURL);

            openModal();
        }


        // Attach click event to Save Image button
        document.getElementById("saveBtn").addEventListener("click", function () {
            var qrImage = document.getElementById("qrcode").getElementsByTagName('img')[0];
            var downloadLink = document.createElement('a');
            downloadLink.href = qrImage.src;
            downloadLink.download = 'qrcode.png';
            document.body.appendChild(downloadLink);
            downloadLink.click();
            document.body.removeChild(downloadLink);
        });

        // Close modal when clicking outside modal content
        window.onclick = function (event) {
            var modal = document.getElementById("myModal");
            if (event.target == modal) {
                closeModal();
            }
        }

    </script>
    <script>
        function submitForm() {
            // Retrieve form data
            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var phone = document.getElementById('phone').value;
            var company = document.getElementById('company').value;
            var message = document.getElementById('message').value;

            var whatsappMessage = "Hi, I'm interested in your services. Here are my details:\n\n";
            whatsappMessage += "Name: " + name + "\n";
            whatsappMessage += "Email: " + email + "\n";
            whatsappMessage += "Phone: " + phone + "\n";
            whatsappMessage += "Subject: " + company + "\n";
            whatsappMessage += "Message: " + message;
            var encodedMessage = encodeURIComponent(whatsappMessage);
            var whatsappURL = 'https://wa.me/?phone=7412846037&text=' + encodedMessage;
            window.open(whatsappURL, "_blank");
        }
    </script>
    <script>

        function shareOnClick() {
            if (isMobile()) {
                shareMobile();
            } else {
                whatsappbtn();
            }
        }


        function isMobile() {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        function shareMobile() {
            if (navigator.share) {
                var qrImage = document.getElementById("qrcode").getElementsByTagName('img')[0];

                if (qrImage) {
                    if (qrImage.complete) {
                        shareWithQRImage(qrImage.src);
                    } else {
                        shareWithQRImage(qrImage.src);
                    }
                } else {
                    shareWithoutQRImage();
                }
            } else {
                alert('Share functionality is not supported on your device.');
            }
        }

        function shareWithQRImage(imageSrc) {
            navigator.share({
                title: 'KritiKala',
                text: 'Kritikala',
                url: window.location.href,
                files: [imageSrc]
            })
                .then(() => console.log('Successful share'))
                .catch((error) => console.log('Error sharing', error));
        }

        function shareWithoutQRImage() {
            navigator.share({
                title: 'KritiKala',
                text: 'Kritikala',
                url: window.location.href
            })
                .then(() => console.log('Successful share'))
                .catch((error) => console.log('Error sharing', error));
        }


    </script>
</body>

</html>